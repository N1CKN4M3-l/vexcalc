<!-- Save this as index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>VEX Scoring Dashboard</title>
  <style>
    /* All CSS goes here. If you want this split later again, just ask! */
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      font-family: 'Segoe UI', sans-serif;
      color: white;
      background-color: #0f0f0f;
      overflow: hidden;
    }

    .app-layout {
      display: flex;
      height: 100vh;
      overflow: hidden;
    }

    .sidebar {
      width: 200px;
      background: #181818;
      border-right: 1px solid #333;
      display: flex;
      flex-direction: column;
      padding: 1rem 0;
    }

    .tab-btn {
      background: none;
      border: none;
      color: white;
      padding: 1rem 1.5rem;
      text-align: left;
      font-weight: 600;
      cursor: pointer;
      transition: background 0.2s ease;
      border-left: 4px solid transparent;
      user-select: none;
    }

    .tab-btn:hover,
    .tab-btn.active {
      background: #222;
      border-left: 4px solid #4ade80;
    }

    .container {
      flex-grow: 1;
      overflow: auto;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      padding: 2rem;
      box-sizing: border-box;
    }

    .panel {
      width: 100%;
      max-width: 1000px;
      background: #181818;
      border-radius: 1rem;
      padding: 2rem;
      box-sizing: border-box;
      display: none;
      flex-direction: column;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);
    }

    .panel.active {
      display: flex;
    }

    h1 {
      font-size: 1.75rem;
      margin: 0 0 1rem;
      color: white;
      user-select: none;
      text-align: center;
    }

    /* Dashboard */
    .dashboard-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 2rem;
    }

    .dashboard-card {
      background: #111;
      border-radius: 1rem;
      padding: 1.5rem;
      box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
    }

    .card-title {
      font-size: 1rem;
      font-weight: bold;
      margin-bottom: 0.5rem;
      color: #ccc;
    }

    .card-value {
      font-size: 2rem;
      font-weight: 700;
      color: #4ade80;
    }

    .tip-card {
      height: 100px;
      justify-content: center;
    }

    /* Score Lists */
    .score-lists {
      display: flex;
      justify-content: space-between;
      gap: 2rem;
      margin-top: 2rem;
    }

    .score-box {
      flex: 1;
      background: #111;
      border-radius: 1rem;
      padding: 1rem;
      max-height: 300px;
      overflow-y: auto;
    }

    .score-box h3 {
      margin-top: 0;
      color: white;
      text-align: center;
    }

    .score-box ul {
      list-style: none;
      padding: 0;
      margin: 0;
      color: #ccc;
    }

    .score-box li {
      padding: 0.25rem 0;
    }

    .gold { color: gold; font-weight: 700; }
    .silver { color: silver; font-weight: 700; }
    .bronze { color: #cd7f32; font-weight: 700; }
  </style>
</head>
<body>
  <div class="app-layout">
    <nav class="sidebar">
      <button class="tab-btn active" onclick="switchTab('dashboard')">Dashboard</button>
      <button class="tab-btn" onclick="switchTab('calculator')">Calculator</button>
      <button class="tab-btn" onclick="switchTab('timer')">Timer</button>
      <button class="tab-btn" onclick="switchTab('scores')">Scores</button>
    </nav>
    <div class="container">
      <section id="dashboard" class="panel active">
        <h1>Scoring Dashboard</h1>
        <div class="dashboard-grid">
          <div class="dashboard-card">
            <div class="card-title">Best Skills Score</div>
            <div class="card-value" id="best-skills">—</div>
          </div>
          <div class="dashboard-card">
            <div class="card-title">Best Teamwork Score</div>
            <div class="card-value" id="best-teamwork">—</div>
          </div>
          <div class="dashboard-card">
            <div class="card-title">Most Recent Score</div>
            <div class="card-value" id="recent-score">—</div>
          </div>
          <div class="dashboard-card tip-card">
            <div class="card-title">Tip of the Day</div>
            <div class="card-value" id="tip-text">Loading...</div>
          </div>
        </div>
      </section>

      <section id="calculator" class="panel">
        <h1>Score Calculator</h1>
        <!-- Insert your calculator content here -->
      </section>

      <section id="timer" class="panel">
        <h1>Timer</h1>
        <!-- Insert your timer content here -->
      </section>

      <section id="scores" class="panel">
        <h1>Saved Scores</h1>
        <div class="score-lists">
          <div class="score-box">
            <h3>Skills</h3>
            <ul id="skills-list"><li>No scores saved.</li></ul>
          </div>
          <div class="score-box">
            <h3>Teamwork</h3>
            <ul id="teamwork-list"><li>No scores saved.</li></ul>
          </div>
        </div>
      </section>
    </div>
  </div>

  <script>
    const tabs = ['dashboard', 'calculator', 'timer', 'scores'];
    function switchTab(name) {
      tabs.forEach(id => {
        document.getElementById(id).classList.toggle('active', id === name);
      });
    }

    // Tip rotation
    const tips = [
      "Only 6 Motors",
      "Make Sure Your Bot Is Sturdy",
      "Robot Ideas: 180 Mech, Conveyor, Pinhead With Mods"
    ];
    let tipIndex = 0;
    const tipText = document.getElementById("tip-text");
    function rotateTips() {
      tipText.textContent = tips[tipIndex];
      tipIndex = (tipIndex + 1) % tips.length;
    }
    setInterval(rotateTips, 4000);
    rotateTips();

    // Score handling placeholders
    const recentEl = document.getElementById('recent-score');
    const skillsEl = document.getElementById('best-skills');
    const teamworkEl = document.getElementById('best-teamwork');

    function loadDashboardScores() {
      const skills = JSON.parse(localStorage.getItem('skills') || '[]');
      const teamwork = JSON.parse(localStorage.getItem('teamwork') || '[]');

      skillsEl.textContent = skills.length ? Math.max(...skills.map(s => s.score)) + " pts" : "—";
      teamworkEl.textContent = teamwork.length ? Math.max(...teamwork.map(s => s.score)) + " pts" : "—";

      const all = [...skills, ...teamwork];
      recentEl.textContent = all.length ? all[all.length - 1].score + " pts" : "—";

      renderScoreList('skills', skills);
      renderScoreList('teamwork', teamwork);
    }

    function renderScoreList(type, scores) {
      const ul = document.getElementById(`${type}-list`);
      ul.innerHTML = '';
      if (!scores.length) {
        ul.innerHTML = '<li>No scores saved.</li>';
        return;
      }
      scores.sort((a, b) => b.score - a.score);
      scores.forEach((s, i) => {
        const li = document.createElement('li');
        li.textContent = `${i + 1}. ${s.score} pts`;
        if (i === 0) li.classList.add('gold');
        else if (i === 1) li.classList.add('silver');
        else if (i === 2) li.classList.add('bronze');
        ul.appendChild(li);
      });
    }

    loadDashboardScores();
  </script>
</body>
</html>
